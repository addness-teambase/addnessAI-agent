# 📖 アドネスAIエージェント 使い方ガイド

アドネスAIエージェントの基本的な使い方をわかりやすく解説します。

---

## 🎯 目次

1. [起動方法](#起動方法)
2. [基本的なチャット](#基本的なチャット)
3. [AIモデルの選択](#aiモデルの選択)
4. [各モードの使い方](#各モードの使い方)
5. [ファイル分析機能](#ファイル分析機能)
6. [エージェント一覧](#エージェント一覧)
7. [会話履歴の管理](#会話履歴の管理)
8. [よくある質問](#よくある質問)

---

## 🚀 起動方法

### ターミナル1（Mastraサーバー - 必須）
```bash
npm run dev:mastra
```

### ターミナル2（Next.jsアプリ）
```bash
npm run dev
```

### アクセス
ブラウザで http://localhost:3000 を開く

> **💡 ヒント**: Mastraサーバーを先に起動してから、Next.jsアプリを起動してください。

---

## 💬 基本的なチャット

1. **ホーム画面にアクセス**: http://localhost:3000
2. **画面下の入力欄に質問を入力**
3. **Enterキーまたは送信ボタンをクリック**
4. **AIの回答を待つ**

### 使用例
```
あなた: 今日の天気を教えて
AI: Web検索を実行して、最新の天気情報をお伝えします...

あなた: Pythonのリストと辞書の違いを教えて
AI: Pythonのリストと辞書の主な違いについて説明します...
```

---

## 🤖 AIモデルの選択

チャット画面の上部にあるモデルセレクターから、使用するAIモデルを選択できます。

### 利用可能なモデル

| モデル | 特徴 | 用途 |
|--------|------|------|
| **Gemini 2.5 Flash** | 🌟 無料・高速 | 日常的な質問、簡単なタスク |
| **Gemini 2.5 Pro** | 高性能 | 複雑な分析、長文の処理 |
| **Claude Sonnet 4** | 高精度 | クリエイティブな文章作成 |
| **GPT-4o** | バランス型 | 汎用的なタスク |
| **Grok 3** | ユニーク | X（旧Twitter）の情報に強い |

> **💡 おすすめ**: 初めての方は無料の **Gemini 2.5 Flash** から試してみましょう！

---

## 🎭 各モードの使い方

アドネスAIエージェントには、特定のタスクに特化した複数のモードがあります。

### 1. **FAQ自動応答モード**

よくある質問に自動で回答するモードです。

**アクセス方法**:
1. http://localhost:3000/tools にアクセス
2. 「FAQ自動応答」をクリック

**使用例**:
```
あなた: 営業時間を教えてください
AI: 弊社の営業時間は平日9:00-18:00です...

あなた: 返品は可能ですか？
AI: ご購入後14日以内であれば返品可能です...
```

**設定方法**:
- `.env` ファイルで `DIFY_API_KEY` を設定
- Dify上でFAQワークフローを作成

---

### 2. **契約書レビューモード**

契約書のPDFをアップロードし、AIがリスクをチェックします。

**アクセス方法**:
```
http://localhost:3000/?mode=contract-review
```

**使い方**:
1. PDFファイルをドラッグ&ドロップ、または選択
2. 「この契約書をレビューしてください」と入力
3. AIが自動的にリスクポイントを分析

**レビュー項目**:
- ✅ 不利な条項のチェック
- ✅ 曖昧な表現の指摘
- ✅ 重要な条項の欠落
- ✅ 改善提案

---

### 3. **PDF分析モード**

あらゆるPDFファイルを詳細に分析します。

**アクセス方法**:
```
http://localhost:3000/?mode=pdf-analysis
```

**対応形式**:
- PDF（テキスト形式）
- スキャンPDF（OCR対応）
- 論文、レポート、マニュアル

**使用例**:
```
1. PDFをアップロード
2. 「この論文を要約してください」と入力
3. AIが内容を分析して要約を作成
```

---

### 4. **Excel/CSV分析モード**

ExcelやCSVファイルのデータを分析します。

**アクセス方法**:
```
http://localhost:3000/?mode=excel-analysis
```

**できること**:
- データの統計分析
- グラフ化の提案
- 異常値の検出
- データクレンジングの提案

**使用例**:
```
1. Excel/CSVファイルをアップロード
2. 「このデータの傾向を教えて」と入力
3. AIがデータを分析してインサイトを提供
```

---

## 📂 ファイル分析機能

### ファイルのアップロード方法

#### 方法1: ドラッグ&ドロップ
画面下の入力エリアにファイルをドラッグ&ドロップ

#### 方法2: ファイル選択
📎ボタンをクリックしてファイルを選択

### 対応ファイル形式

| 形式 | 拡張子 | モード |
|------|--------|--------|
| PDF | `.pdf` | PDF分析モード |
| Excel | `.xlsx`, `.xls` | Excel分析モード |
| CSV | `.csv` | Excel分析モード |
| Word | `.docx` | PDF分析モード（変換後） |
| テキスト | `.txt` | 全モード |

### 分析のコツ

✅ **具体的な質問をする**
```
❌ 「このファイルを分析して」
✅ 「この売上データから上位3つの商品を教えて」
```

✅ **複数の視点で質問する**
```
1. 「データの概要を教えて」
2. 「異常値はありますか？」
3. 「今後の傾向を予測して」
```

---

## 🤝 エージェント一覧

専門的なAIエージェントを使用できます。

**アクセス**: http://localhost:3000/tools

### 主なエージェント

#### 📊 **ビジネス系**
- **営業支援エージェント**: 営業戦略の立案
- **マーケティングエージェント**: キャンペーン企画
- **業務効率化エージェント**: 業務プロセスの改善

#### 💻 **技術系**
- **コード生成エージェント**: プログラミング支援
- **データ分析エージェント**: データの可視化
- **システム設計エージェント**: アーキテクチャ設計

#### 🎨 **クリエイティブ系**
- **コンテンツ作成エージェント**: ブログ記事作成
- **SNS投稿エージェント**: SNS用テキスト生成
- **プレゼン作成エージェント**: スライド作成

---

## 💾 会話履歴の管理

Supabaseを設定すると、会話履歴が自動保存されます。

### 設定方法
1. Supabaseアカウントを作成
2. `.env` に以下を設定:
```bash
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
```

### 機能
- ✅ 自動的に会話を保存
- ✅ 左サイドバーから過去の会話を表示
- ✅ 会話タイトルの自動生成
- ✅ 新しい会話の作成

### 会話の管理
- **新しい会話を始める**: 左サイドバーの「+新しい会話」ボタン
- **過去の会話を開く**: サイドバーから会話をクリック
- **会話の削除**: （今後実装予定）

---

## 🎓 よくある質問

### Q1. どのモデルを使えばいいですか？

**A**: 用途によって選びましょう：
- **無料で試したい** → Gemini 2.5 Flash
- **高精度な分析** → Gemini 2.5 Pro または Claude Sonnet 4
- **プログラミング** → GPT-4o または Claude
- **汎用的に使う** → Gemini 2.5 Flash（無料）

---

### Q2. APIキーはどこで取得できますか？

**A**: 各サービスの公式サイトで取得できます：

| サービス | URL |
|----------|-----|
| Google Gemini | https://aistudio.google.com/app/apikey |
| OpenAI | https://platform.openai.com/api-keys |
| Anthropic Claude | https://console.anthropic.com/settings/keys |
| Brave Search | https://api.search.brave.com/app/keys |
| Dify | https://cloud.dify.ai/ |

---

### Q3. 無料で使える機能はありますか？

**A**: はい！以下は無料で使えます：

✅ **Gemini 2.5 Flash** (無料枠あり)
- 1分間に15リクエスト
- 1日1,500リクエスト

✅ **Brave Search** (無料枠あり)
- 月間2,000クエリ

---

### Q4. ファイルアップロードがうまくいきません

**A**: 以下を確認してください：

1. **ファイルサイズ**: 20MB以下を推奨
2. **ファイル形式**: 対応形式を確認
3. **APIキー**: Gemini API キーが設定されているか
4. **モード**: 適切なモード（PDF分析、Excel分析など）を選択

---

### Q5. エラーが表示されました

**A**: 以下の手順で確認してください：

#### ステップ1: 環境変数を確認
```bash
npm run check-env
```

#### ステップ2: Mastraサーバーを再起動
```bash
# Ctrl+C で停止してから
npm run dev:mastra
```

#### ステップ3: Next.jsアプリを再起動
```bash
# Ctrl+C で停止してから
npm run dev
```

#### ステップ4: ブラウザのキャッシュをクリア
- Chrome: `Ctrl+Shift+Delete` (Windows) / `Cmd+Shift+Delete` (Mac)

---

### Q6. 会話履歴が保存されません

**A**: Supabaseの設定を確認してください：

1. `.env` に以下が設定されているか確認:
```bash
NEXT_PUBLIC_SUPABASE_URL=your_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key
```

2. Supabaseのテーブルが作成されているか確認
3. アプリを再起動

> **💡 ヒント**: Supabaseを設定しなくても、会話は使用できます（履歴は保存されません）。

---

### Q7. スマホでも使えますか？

**A**: はい！レスポンシブデザインに対応しているため、スマホやタブレットでも使用できます。

📱 **モバイル版の特徴**:
- ハンバーガーメニューでサイドバーを開閉
- タッチ操作に最適化
- 画面サイズに応じた表示

---

### Q8. 複数の質問を同時にできますか？

**A**: 現在は1つずつ質問を送信する仕様です。ただし、1つのメッセージに複数の質問を含めることは可能です：

```
あなた: 以下の3つを教えてください：
1. Pythonの基本文法
2. データベースの設計方法
3. REST APIの作り方

AI: それぞれについて説明します...
```

---

### Q9. プライバシーは守られますか？

**A**: はい、プライバシーに配慮しています：

- 🔒 **ローカル環境**: データは自分のサーバーで処理
- 🔒 **API通信**: HTTPSで暗号化
- 🔒 **会話履歴**: Supabaseに保存（設定した場合のみ）

> **⚠️ 注意**: APIキーは環境変数で管理し、他人と共有しないでください。

---

### Q10. カスタマイズはできますか？

**A**: はい！オープンソースなので自由にカスタマイズできます：

- 🎨 **デザイン変更**: TailwindCSSでスタイル変更
- 🤖 **エージェント追加**: `src/mastra/agents/` に追加
- 🔧 **ツール追加**: `src/mastra/tools/` に追加
- 🌐 **API拡張**: `app/api/` に新しいエンドポイントを追加

詳細は `CLAUDE.md` を参照してください。

---

## 🛠 トラブルシューティング

### エラー: "API key not found"

**原因**: APIキーが設定されていません

**解決方法**:
```bash
# 環境変数をチェック
npm run check-env

# .envファイルを編集
nano .env  # または code .env
```

---

### エラー: "Port already in use"

**原因**: ポート3000が既に使用されています

**解決方法**:
```bash
# ポート3000を使用しているプロセスを確認
lsof -i :3000

# プロセスを終了
kill -9 [PID]

# または、別のポートで起動
PORT=3001 npm run dev
```

---

### エラー: "Module not found"

**原因**: 依存関係がインストールされていません

**解決方法**:
```bash
# 依存関係を再インストール
rm -rf node_modules package-lock.json
npm install
```

---

### エラー: "Failed to fetch"

**原因**: ネットワーク接続またはAPI設定の問題

**解決方法**:
1. インターネット接続を確認
2. APIキーが正しいか確認
3. APIの利用制限を確認（無料枠を超えていないか）

---

## 📚 さらに詳しく学ぶ

### ドキュメント

| ファイル | 内容 |
|----------|------|
| `README.md` | プロジェクト概要 |
| `QUICK_START.md` | クイックスタートガイド |
| `CLAUDE.md` | 開発者向けガイド |
| `VERCEL_DEPLOYMENT.md` | デプロイ方法 |
| `ERROR_PREVENTION.md` | エラー防止ガイド |

### 外部リンク

- **Mastra公式**: https://mastra.ai/
- **Next.js公式**: https://nextjs.org/
- **Google Gemini**: https://ai.google.dev/
- **Vercel AI SDK**: https://sdk.vercel.ai/

---

## 💡 効果的な使い方のヒント

### 1. 具体的に質問する

❌ **悪い例**:
```
教えて
```

✅ **良い例**:
```
Pythonでファイルを読み込む方法を、サンプルコード付きで教えてください
```

---

### 2. コンテキストを提供する

❌ **悪い例**:
```
これどうやるの？
```

✅ **良い例**:
```
React+TypeScriptでAPIからデータを取得して表示する方法を教えてください。
useSWRを使った実装例が知りたいです。
```

---

### 3. ステップバイステップで進める

```
ステップ1: まず、プロジェクトの構造を教えて
（AIが回答）

ステップ2: では、データベース設計について詳しく教えて
（AIが回答）

ステップ3: 実装方法を教えて
```

---

### 4. フィードバックを活用する

```
あなた: Pythonでファイルを読み込む方法を教えて

AI: （回答）

あなた: ありがとう。これを応用して、CSVファイルを読み込む方法も教えて

AI: （応用例を回答）
```

---

## 🎉 おわりに

これでアドネスAIエージェントの基本的な使い方をマスターしました！

### 次のステップ

1. ✅ **基本のチャットを試す**
2. ✅ **各モードを体験する**
3. ✅ **エージェント一覧を見てみる**
4. ✅ **ファイル分析を試す**
5. ✅ **自分用にカスタマイズする**

---

### 困ったときは

- 📖 このガイドを再読する
- 🔍 GitHub Issuesで検索する
- 💬 コミュニティで質問する
- 📧 開発者に連絡する

---

**Happy Coding! 🚀**

---

## 📝 更新履歴

| 日付 | 内容 |
|------|------|
| 2025-10-30 | 初版作成 |

---

**Made with ❤️ by Addness AI Team**

